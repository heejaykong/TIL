# 다중 필터 만들어보기

차장님께서 작성하신 코드로 혼자 공부를 해보자... (당연히 복붙은 하지 않을거고 최대한 추상화하고 비유해 작성할 것임)

과일 가게가 있다고 치자. 과일 가게는 사업이 잘 돼 규모가 커지는 덕분에 과일을 관리하는 창고를 전국 방방곡곡에 두게 됐다.

각 지점마다 과일 입출고를 관리하는 프로그램을 구현해야 한다고 가정해보자,,

이 프로그램은 입출고 내역을 다음과 같은 속성들과 함께 확인할 수 있다

* 과일의 입/출고를 요청한 날짜
* 과일의 입/출고를 요청하는 요청자
* 요청하는 과일 품목
* 요청하는 과일 수량
* 과일을 수령하는 수령자 등등

이 프로그램은 필터 기능이 있다면 더욱 편리할 것이다.

과일의 입/출고를 담당하는 직원은 특정 기간을 정해두고 A씨가 출고를 요청한 샤인머스캣 재고가 얼마인지 확인하고 싶어질 때가 있을 것이다.

따라서 상단 헤더에 `사람`, `과일품목`, `기간` 이라는 필터를 각각 두고

중복 선택이 가능하게 만들고 싶어진 것임

문제는 각각의 필터가 다 다른 형태의 조건을 입력해줘야 한다는 사실임

어떤 필터는 이벤트 발생 시 id값을 비교해서 목록을 걸러주고, 어떤 필터는 boolean 값, 어떤 필터는 문자열 비교, 어떤 필터는 날짜 비교로 목록을 걸러줄 것이다.

어떻게 하면 이런 다중 조건 필터를 효율적으로 설계할 수 있을까? 차장님께서는 각 필터 항목마다 함수화하고, reduce를 이용해 관리하는 코드를 짜신 것 같았다.

```vue.js
data() {
  data,
}
computed: {
  필터된데이터() {
    const 사람FilterFn = (값, 속성) => (element) => 속성과 값을 이용한 조건문 || 속성과 값을 이용한 조건문 || ... || 조건문;
    const 품목FilterFn = (값, 속성) => (element) => 조건문 || 조건문;

    return [사람FilterFn(값, 속성), 품목FilterFn(값, 속성)].reduce(
      (source, filterFn) => source.filter(filterFn), this.data
    );
  }
}
```

